/* esm.sh - @nextcloud/router@3.0.1 */
var f=(n,e)=>u(n,"",e),w=n=>"/remote.php/"+n,h=(n,e)=>{var o;return((o=e?.baseURL)!=null?o:g())+w(n)},R=(n,e,o)=>{var i;let c=Object.assign({ocsVersion:2},o||{}).ocsVersion===1?1:2;return((i=o?.baseURL)!=null?i:g())+"/ocs/v"+c+".php"+p(n,e,o)},p=(n,e,o)=>{let i=Object.assign({escape:!0},o||{}),c=function(l,r){return r=r||{},l.replace(/{([^{}]*)}/g,function(a,t){let s=r[t];return i.escape?encodeURIComponent(typeof s=="string"||typeof s=="number"?s.toString():a):typeof s=="string"||typeof s=="number"?s.toString():a})};return n.charAt(0)!=="/"&&(n="/"+n),c(n,e||{})},U=(n,e,o)=>{var i,c,l;let r=Object.assign({noRewrite:!1},o||{}),a=(i=o?.baseURL)!=null?i:d();return((l=(c=window?.OC)==null?void 0:c.config)==null?void 0:l.modRewriteWorking)===!0&&!r.noRewrite?a+p(n,e,o):a+"/index.php"+p(n,e,o)},b=(n,e)=>e.includes(".")?u(n,"img",e):u(n,"img","".concat(e,".svg")),u=(n,e,o)=>{var i,c,l;let r=(l=(c=(i=window?.OC)==null?void 0:i.coreApps)==null?void 0:c.includes(n))!=null?l:!1,a=o.slice(-3)==="php",t=d();return a&&!r?(t+="/index.php/apps/".concat(n),e&&(t+="/".concat(encodeURI(e))),o!=="index.php"&&(t+="/".concat(o))):!a&&!r?(t=v(n),e&&(t+="/".concat(e,"/")),t.at(-1)!=="/"&&(t+="/"),t+=o):((n==="settings"||n==="core"||n==="search")&&e==="ajax"&&(t+="/index.php"),n&&(t+="/".concat(n)),e&&(t+="/".concat(e)),t+="/".concat(o)),t},g=()=>window.location.protocol+"//"+window.location.host+d();function d(){let n=window._oc_webroot;if(typeof n>"u"){n=location.pathname;let e=n.indexOf("/index.php/");if(e!==-1)n=n.slice(0,e);else{let o=n.indexOf("/",1);n=n.slice(0,o>0?o:void 0)}}return n}function v(n){var e,o;return(o=((e=window._oc_appswebroots)!=null?e:{})[n])!=null?o:""}export{u as generateFilePath,R as generateOcsUrl,h as generateRemoteUrl,U as generateUrl,v as getAppRootUrl,g as getBaseUrl,d as getRootUrl,b as imagePath,f as linkTo};
//# sourceMappingURL=router.mjs.map